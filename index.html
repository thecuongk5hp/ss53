<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--
    đồng bộ và bất đồng bộ
        1.Đồng bộ 
          - ngôn ngữ js là 1 ngôn ngữ đơn luồng (single thread: chỉ 1 luồng duy nhất ,
            luồng code chạy từ trái qua phải và từ trên xuống dưới )
        2.bất đồng bộ
          - những việc cần thời gian xử lý như các hàm setTimeout ,setinterval,gửi request 
            lên sever, các thao tác tương tác database
            trong js sinh ra các cách để sử lý tác vụ bất đồng bộ 
            1.dùng callback
                Ứng dụng của callback là các hàm nhận vào 1 hàm callback làm đối số của hàm khác
            2.dùng promise
            3.dùng async/await
    -->  
    <script>
        // console.log("công việc 1");
        //     setTimeout(()=>{
        // console.log("công việc 2");
        // },1000)
        // console.log("công việc 3");
        // function task1(a){
        //     // cần thời gian để đi xử lý công việc 1
        //     // ví dụ công việc 1 cần 2s để thực thi
        //     setTimeout(()=>{
        //         console.log("công việc 1 được thực thi");
        //         a();
        //     },2000);
        // }
        // function task2(){
        //     console.log("được thực thi sau khi task1 được hoàn thành");
        // }
        // // task1(task2);
        // setTimeout(()=>{
        //     console.log("công việc 1 thực thi");
        //     setTimeout(()=>{
        //         console.log("công viêc 2 thực thi sau khi xong công việc 1 hoàn thành");
        //         setTimeout(()=>{
        //             console.log("công việc 3 thực thi sau khi xong công việc 2 hoàn thành");
        //         },7000)
        //     },3000)
        // },1000)
        // khi viết nhiều hàm xử lý lồng nhau thì rơi vào tình trạng callback hell(địa ngục)
        //
        // let arr=[1,2,3,4,5];
        // let result =arr.map((item)=>{
        //     return item*2
        // })
        //dùng callback viết 1 hàm xử lý tương tự như hàm map
        // function myMap(a,callback) {
        //     let result =[];
        //     for (const item of a) {
        //         result.push(callback(item));
        //     }
        //     return result;
        // }
        // myMap(arr,(item)=> item*2)

        // let result1=arr.fillter((item)=>item>3);
        // console.log("seresult",result1);//[]

        //dùng callback để custom lại hàm fillter-lọc

        function myFilter(arr, callback) {
            let result2 = [];
            for (const item of arr) {
                if (callback(item)) {
                    result2.push(item);
                }
            }
            return result2;
        }
        let arr = [1, 2, 3, 4, 5];
        let result2 = myFilter(arr, (item) => item > 3);
        console.log(result2);

    </script>
</body>
</html>